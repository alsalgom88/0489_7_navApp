<?xml version="1.0" encoding="utf-8"?>

<!--
    Layout principal de BottomActivity.
    CoordinatorLayout permet:
      âœ” Integrar AppBarLayout + Toolbar
      âœ” GestiÃ³ correcta de scroll i comportaments Material
      âœ” Posicionar el BottomNavigationView
-->
<androidx.coordinatorlayout.widget.CoordinatorLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:layout_width="match_parent"
    android:layout_height="match_parent">

    <!--
        AppBarLayout contÃ© elements de la barra superior,
        com la Toolbar. Forma part de Material Design.
    -->
    <!-- ========================================================= -->
    <!-- ðŸŸ¦ BARRA SUPERIOR (Toolbar dins AppBarLayout)             -->
    <!-- ========================================================= -->
    <com.google.android.material.appbar.AppBarLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content">

        <!--
            Toolbar moderna que actua com a ActionBar.
            - Controlada des del codi mitjanÃ§ant setSupportActionBar()
            - Gestiona icones, tÃ­tols, botÃ³ enrere i Overflow
            - colorPrimary ve del tema (Theme.NavApp)
        -->
        <androidx.appcompat.widget.Toolbar
            android:id="@+id/toolbar"
            android:layout_width="match_parent"
            android:layout_height="?attr/actionBarSize"
            android:background="?attr/colorPrimary"
            app:popupTheme="@style/ThemeOverlay.AppCompat.Light" />
    </com.google.android.material.appbar.AppBarLayout>


    <!--
        FragmentContainerView:
        - ContÃ© els fragments gestionats pel NavController.
        - Ã‰s el "cos" principal de la pantalla.
        - Carrega bottom_graph.xml (Navigation Graph).
        - defaultNavHost="true": gestiona automÃ ticament el botÃ³ enrere.
    -->
    <!-- ========================================================= -->
    <!-- ðŸŸ© NAVHOST â†’ Mostra els fragments de Bottom Navigation     -->
    <!-- ========================================================= -->
    <androidx.fragment.app.FragmentContainerView
        android:id="@+id/bottom_nav_host"
        android:name="androidx.navigation.fragment.NavHostFragment"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        app:defaultNavHost="true"
        app:navGraph="@navigation/bottom_graph" />
    <!--
        defaultNavHost="true"
            â†’ controla el botÃ³ fÃ­sic dâ€™enrere
        navGraph="@navigation/bottom_graph"
            â†’ defineix quins fragments formen part del menÃº inferior
    -->


    <!--
        BottomNavigationView:
        - MenÃº inferior de navegaciÃ³ (Material Design).
        - app:menu â†’ assigna el menÃº amb els 3 Ã­tems.
        - layout_gravity="bottom": el colÂ·loca enganxat a sota.
        - colorSurface = color adequat segons tema (Day/Night).
    -->
    <!-- ========================================================= -->
    <!-- ðŸŸ¥ BOTTOM NAVIGATION VIEW (menÃº inferior Material)         -->
    <!-- ========================================================= -->
    <com.google.android.material.bottomnavigation.BottomNavigationView
        android:id="@+id/bottom_nav"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_gravity="bottom"
        android:background="?attr/colorSurface"
        app:menu="@menu/bottom_menu" />
    <!--
        menu="@menu/bottom_menu"
            â†’ assigna les opcions: Home, Galeria, Perfil
        colorSurface
            â†’ adapta el color segons mode Light/Dark
        layout_gravity="bottom"
            â†’ el fixa a la part inferior del CoordinatorLayout
    -->

</androidx.coordinatorlayout.widget.CoordinatorLayout>
